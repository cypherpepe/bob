"use strict";(self.webpackChunkBOB_docs=self.webpackChunkBOB_docs||[]).push([[6450],{8898:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>d});var r=l(4848),c=l(8453);const t={},i="Bridge",s={id:"contracts/src/src/swap/Bridge.sol/contract.Bridge",title:"Bridge",description:"Git Source",source:"@site/docs/contracts/src/src/swap/Bridge.sol/contract.Bridge.md",sourceDirName:"contracts/src/src/swap/Bridge.sol",slug:"/contracts/src/src/swap/Bridge.sol/contract.Bridge",permalink:"/docs/contracts/src/src/swap/Bridge.sol/contract.Bridge",draft:!1,unlisted:!1,editUrl:"https://github.com/bob-collective/bob/tree/master/docs/docs/contracts/src/src/swap/Bridge.sol/contract.Bridge.md",tags:[],version:"current",frontMatter:{},sidebar:"contractSidebar",previous:{title:"TestLightRelay",permalink:"/docs/contracts/src/src/relay/TestLightRelay.sol/contract.TestLightRelay"},next:{title:"BtcMarketPlace",permalink:"/docs/contracts/src/src/swap/Btc_Marketplace.sol/contract.BtcMarketPlace"}},a={},d=[{value:"State Variables",id:"state-variables",level:2},{value:"number",id:"number",level:3},{value:"collateralThreshold",id:"collateralthreshold",level:3},{value:"nextOrderId",id:"nextorderid",level:3},{value:"orders",id:"orders",level:3},{value:"suppliedCollateral",id:"suppliedcollateral",level:3},{value:"totalCollateral",id:"totalcollateral",level:3},{value:"wrapped",id:"wrapped",level:3},{value:"Functions",id:"functions",level:2},{value:"constructor",id:"constructor",level:3},{value:"mint",id:"mint",level:3},{value:"requestSwap",id:"requestswap",level:3},{value:"acceptSwap",id:"acceptswap",level:3},{value:"cancelSwap",id:"cancelswap",level:3},{value:"executeSwap",id:"executeswap",level:3},{value:"liquidate",id:"liquidate",level:3},{value:"withdraw",id:"withdraw",level:3},{value:"colToBtc",id:"coltobtc",level:3},{value:"btcToCol",id:"btctocol",level:3},{value:"Structs",id:"structs",level:2},{value:"Order",id:"order",level:3},{value:"BitcoinAddress",id:"bitcoinaddress",level:3},{value:"TransactionProof",id:"transactionproof",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"bridge",children:"Bridge"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/bob-collective/bob/blob/master/src/swap/Bridge.sol",children:"Git Source"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Inherits:"}),"\nERC2771Recipient"]}),"\n",(0,r.jsx)(n.h2,{id:"state-variables",children:"State Variables"}),"\n",(0,r.jsx)(n.h3,{id:"number",children:"number"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"uint256 public number;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"collateralthreshold",children:"collateralThreshold"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"uint256 public collateralThreshold;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"nextorderid",children:"nextOrderId"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"uint256 nextOrderId;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"orders",children:"orders"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"mapping(uint256 => Order) public orders;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"suppliedcollateral",children:"suppliedCollateral"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"mapping(address => uint256) public suppliedCollateral;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"totalcollateral",children:"totalCollateral"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"uint256 totalCollateral;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"wrapped",children:"wrapped"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"BobWrappedBtc wrapped = new BobWrappedBtc();\n"})}),"\n",(0,r.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,r.jsx)(n.h3,{id:"constructor",children:"constructor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"constructor(uint256 threshold);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mint",children:"mint"}),"\n",(0,r.jsx)(n.p,{children:"lock COL in exchange for zBTC and cCOL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function mint() public payable;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"requestswap",children:"requestSwap"}),"\n",(0,r.jsx)(n.p,{children:"request zBTC to be redeemed for given amount of BTC."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function requestSwap(uint256 amountZbtc, uint256 amountBtc, BitcoinAddress calldata bitcoinAddress) public;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"acceptswap",children:"acceptSwap"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function acceptSwap(uint256 id) public;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cancelswap",children:"cancelSwap"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function cancelSwap(uint256 id) public;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"executeswap",children:"executeSwap"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function executeSwap(uint256 id, TransactionProof calldata) public;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"liquidate",children:"liquidate"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function liquidate(uint256 amountZbtc) public;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"withdraw",children:"withdraw"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function withdraw() public;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"coltobtc",children:"colToBtc"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function colToBtc(uint256 collateral) internal pure returns (uint256);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"btctocol",children:"btcToCol"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function btcToCol(uint256 collateral) internal pure returns (uint256);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"structs",children:"Structs"}),"\n",(0,r.jsx)(n.h3,{id:"order",children:"Order"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"struct Order {\n    bool open;\n    uint256 amountZbtc;\n    uint256 amountBtc;\n    address requesterAddress;\n    address accepterAddress;\n    BitcoinAddress bitcoinAddress;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"bitcoinaddress",children:"BitcoinAddress"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"struct BitcoinAddress {\n    bytes scriptPubKey;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"transactionproof",children:"TransactionProof"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"struct TransactionProof {\n    uint256 dummy;\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>i,x:()=>s});var r=l(6540);const c={},t=r.createContext(c);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);