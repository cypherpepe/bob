<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-build/examples/btc-swap/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Trustless P2P Swap BTC and ERC20 using a BTC Light Client | BOB - Build on Bitcoin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.gobob.xyz/img/bob-social-card.png"><meta data-rh="true" name="twitter:image" content="https://docs.gobob.xyz/img/bob-social-card.png"><meta data-rh="true" property="og:url" content="https://docs.gobob.xyz/docs/build/examples/btc-swap/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="bitcoin, layer 2, scaling, rollup, rust, smart contracts, evm, solidity, collective, open source, blockchain"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Trustless P2P Swap BTC and ERC20 using a BTC Light Client | BOB - Build on Bitcoin"><meta data-rh="true" name="description" content="This example demonstrates how BOB is leveraged to build a peer-to-peer (P2P) swap application that allows two parties to swap ERC20 tokens, BTC and Ordinals without using a custodian."><meta data-rh="true" property="og:description" content="This example demonstrates how BOB is leveraged to build a peer-to-peer (P2P) swap application that allows two parties to swap ERC20 tokens, BTC and Ordinals without using a custodian."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.gobob.xyz/docs/build/examples/btc-swap/"><link data-rh="true" rel="alternate" href="https://docs.gobob.xyz/docs/build/examples/btc-swap/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.gobob.xyz/docs/build/examples/btc-swap/" hreflang="x-default"><script src="https://cdn.usefathom.com/script.js" site="NBNJSTNS" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.fe108d62.css">
<script src="/assets/js/runtime~main.db2c4f18.js" defer="defer"></script>
<script src="/assets/js/main.03a6d50b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#f58b00;color:#fff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Missing something? Want to know more? <a target="_blank" rel="noopener noreferrer" href="https://forms.gle/etYqChR3aahUFuEZ9">Provide feedback</a>.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BOB Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-light.svg" alt="BOB Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/learn/introduction/stack">Learn</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/build/getting-started/">Build</a><a class="navbar__item navbar__link" href="/docs/contracts/src/src/SystemState.sol/library.SystemState">Contracts</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/gobob" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/bob-collective/bob" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/build/getting-started/">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/getting-started/helloworld">Hello Bitcoin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/getting-started/networks">Connect to BOB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/getting-started/local-development">Local Development</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/build/bob-sdk/gateway">BOB SDK</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/build/how-to/bitcoin-testing">How to</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/build/examples/btc-swap/">Examples</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/build/examples/btc-swap/">Trustless P2P Swap BTC and ERC20 using a BTC Light Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/examples/brc20-octopus/">Inscribing Ordinals with the UniSat Wallet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/examples/metamask-ordinals/">Use MetaMask to Inscribe and Transfer Ordinals, and Transfer BTC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/examples/unified-assets-tracker/">Unified EVM and Bitcoin Assets with the MetaMask Bitcoin Snap Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/examples/zkvm-taproot/">zkVM Taproot Address Ownership Proofs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/build/tools/account-abstraction">Tools</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/account-abstraction">Account Abstraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/api">APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/data-indexers">Data Indexers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/nfts-ordinals">NFTs &amp; Ordinals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/node-providers">Node Providers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/oracles">Oracles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/rust-zkvm">Rust zkVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/social-login">Social Login</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/tools/wallets">Wallets</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/build/contracts/">Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/build/bridged-token-addresses/">Bridged Token Addresses</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Examples</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Trustless P2P Swap BTC and ERC20 using a BTC Light Client</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Trustless P2P Swap BTC and ERC20 using a BTC Light Client</h1></header>
<p>This example demonstrates how BOB is leveraged to build a peer-to-peer (P2P) swap application that allows two parties to swap ERC20 tokens, BTC and Ordinals without using a custodian.
The application currently supports testnet BTC, testnet USDC, and WBTC (WBTC is a placeholder for an arbitrary bridged BTC token).</p>
<p><img decoding="async" loading="lazy" alt="demo-overview" src="/assets/images/demo-overview-40c3ff0bb23d3ad09f048c2d2f480138.png" width="1543" height="953" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>App</div><div class="admonitionContent_BuS1"><p>You can try the demo at <a href="https://testnet.gobob.xyz/" target="_blank" rel="noopener noreferrer">https://testnet.gobob.xyz</a>.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Example Code</div><div class="admonitionContent_BuS1"><p>You can find the code for this example <a href="https://github.com/bob-collective/demo-p2p-swap/releases/tag/v0.0.1" target="_blank" rel="noopener noreferrer">in the P2P swap demo GitHub repository</a>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-two-wallets">Connecting Two Wallets<a href="#connecting-two-wallets" class="hash-link" aria-label="Direct link to Connecting Two Wallets" title="Direct link to Connecting Two Wallets">​</a></h2>
<p>The demo supports connecting two wallets, which means that you should be able to connect an EVM wallet and a BTC wallet at the same time.</p>
<ul>
<li>EVM Wallet: it is mandatory to install this type of wallet. Without it you won&#x27;t be able to try the demo.</li>
<li>BTC Wallet: it is not mandatory, but the ordinal swapping experience will improve.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-evm-wallet">Connecting EVM Wallet<a href="#connecting-evm-wallet" class="hash-link" aria-label="Direct link to Connecting EVM Wallet" title="Direct link to Connecting EVM Wallet">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>When connecting to our test network the gas token ticker may be shown as something other than ETH. This can be changed to ETH in the network settings of your wallet.</p></div></div>
<ul>
<li>Install one of the supported EVM wallets (Metamask, Ledger, WalletConnect or Coinbase Wallet).</li>
<li>Go to <a href="https://testnet.gobob.xyz" target="_blank" rel="noopener noreferrer">testnet.gobob.xyz</a></li>
<li>Click &#x27;Connect Wallet&#x27; button at the top right of the UI.</li>
<li>Within the &#x27;EVM Wallet&#x27; tab, select one of the available wallets.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="connect-evm" src="/assets/images/connect-evm-wallet-c38121e59d035b9340c0b0ef12eb2619.png" width="541" height="525" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The UI can sometimes fail to connect if you have multiple wallets installed. If this happens you should disable all wallet extensions other than the one you want to use for the demo.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-btc-wallet">Connecting BTC Wallet<a href="#connecting-btc-wallet" class="hash-link" aria-label="Direct link to Connecting BTC Wallet" title="Direct link to Connecting BTC Wallet">​</a></h3>
<ul>
<li>Install one of the supported BTC wallets (XVerse, Unisat, Leather - coming soon).</li>
<li>Go to <a href="https://testnet.gobob.xyz" target="_blank" rel="noopener noreferrer">testnet.gobob.xyz</a></li>
<li>Click &#x27;Connect Wallet&#x27; button at the top right of the UI.</li>
<li>Within the &#x27;BTC Wallet&#x27; tab, select one of the available wallets.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="connect-btc" src="/assets/images/connect-btc-wallet-aca8105f2c2fa3b2cfbfe4d03fe34a4f.png" width="541" height="458" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-and-funding-test-accounts">Creating and Funding Test Accounts<a href="#creating-and-funding-test-accounts" class="hash-link" aria-label="Direct link to Creating and Funding Test Accounts" title="Direct link to Creating and Funding Test Accounts">​</a></h2>
<p>For you to fully experience this demo you will need:</p>
<ul>
<li>Sepolia ETH: Follow the <a href="https://docs.gobob.xyz/docs/learn/guides/#bob-testnet" target="_blank" rel="noopener noreferrer">testnet guide to get Sepolia ETH from a faucet and bridge it to BOB</a>. Make sure to receive the ETH into the wallet you are connecting to the P2P swap demo.</li>
<li>Testnet BTC: Follow the <a href="https://docs.gobob.xyz/docs/learn/guides/#bitcoin-testnet" target="_blank" rel="noopener noreferrer">testnet guide to get testnet BTC</a>. Make sure to receive the BTC into the wallet you are connecting to the P2P swap demo.</li>
</ul>
<p>You will also need ERC20 tokens and ordinals to create orders, which we will walk you through in the next section.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>For a full experience of the demo app, it is helpful to create and fund two accounts (one for opening orders and another for filling orders), so you can through each flow by yourself.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="erc20-tokens">ERC20 Tokens<a href="#erc20-tokens" class="hash-link" aria-label="Direct link to ERC20 Tokens" title="Direct link to ERC20 Tokens">​</a></h3>
<p>Make sure that at this point you already have funded your account with Sepolia ETH.</p>
<ul>
<li>Click on the &#x27;Get Tokens&#x27; button located on the page header. This will prompt a transaction for which you need the Sepolia ETH.</li>
<li>Once the transaction is approved and successful, import the ERC20 tokens from the following contract addresses:<!-- -->
<ul>
<li>WBTC: <code>0x2868d708e442A6a940670d26100036d426F1e16b</code></li>
<li>USDC: <code>0x27c3321E40f039d10D5FF831F528C9CEAE601B1d</code></li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The faucet is configured to mint 30,000 tokens for each currency. If you want to create orders for more than this amount, the faucet can be called multiple times.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><ul>
<li>If you have connected your wallet to an earlier version of the application, you may see an error (<code>No chain was provided to the request</code>). If this happens you should disconnect and then reconnect your wallet.</li>
<li>ETH tokens need to be minted first, as ETH is required to pay the transaction fees for minting ERC20s.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="testnet-ordinals">Testnet Ordinals<a href="#testnet-ordinals" class="hash-link" aria-label="Direct link to Testnet Ordinals" title="Direct link to Testnet Ordinals">​</a></h3>
<p>If you want to try swapping ordinals, you will need to inscribe them first. There are many ways to do so, such as:</p>
<ul>
<li><a href="https://ordinals.gobob.xyz/" target="_blank" rel="noopener noreferrer">Metamask Ordinals Demo</a>: in-house developed demo which uses the BOB MetaMask Snap to inscribe ordinals.</li>
<li><a href="https://testnet.unisat.io/inscribe" target="_blank" rel="noopener noreferrer">Testnet Unisat</a>: to use this Dapp you will need a UniSat wallet.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You will need to fund your Bitcoin account with testnet BTC before inscribing.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="token-order">Token Order<a href="#token-order" class="hash-link" aria-label="Direct link to Token Order" title="Direct link to Token Order">​</a></h2>
<p>These are the different kinds of token swaps that a user can do:</p>
<ul>
<li>ERC20 → ERC20: sell ERC20 for ERC20 (swapping ERC20)</li>
<li>ERC20 → BTC: sell ERC20 for BTC (buying BTC)</li>
<li>BTC → ERC20: sell BTC for ERC20 (selling BTC)</li>
</ul>
<p>The peer-to-peer swap is divided into three steps:</p>
<ul>
<li>Creating order</li>
<li>Filling order</li>
<li>Completing order (excluded on ERC20 → ERC20 order)</li>
</ul>
<p>Let&#x27;s now go through each step for each different swap type.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="erc20--erc20-swaping-erc20">ERC20 → ERC20 (swaping ERC20)<a href="#erc20--erc20-swaping-erc20" class="hash-link" aria-label="Direct link to ERC20 → ERC20 (swaping ERC20)" title="Direct link to ERC20 → ERC20 (swaping ERC20)">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-order">Creating Order<a href="#creating-order" class="hash-link" aria-label="Direct link to Creating Order" title="Direct link to Creating Order">​</a></h4>
<p>These are the steps to create ERC20 → ERC20 order:</p>
<ul>
<li>On the top right of the main page, click on the &#x27;Add an order&#x27; button.</li>
<li>A modal with a &#x27;New Order&#x27; title should be visible. Within this modal, you should be on the &#x27;Token&#x27; tab.</li>
<li>This tab contains two inputs: &#x27;Offer&#x27; and &#x27;You will receive&#x27;. Please select the ERC20 tokens that you wish to pay with and receive, along with the respective amounts.</li>
<li>Once you fill in the previous fields, you should now be able to submit:<!-- -->
<ul>
<li>if you never approved a spending cap for your &quot;Offer&quot; ERC20 token, when clicking the &#x27;Approve &amp; Place Order&#x27; button, a transaction will be prompted for you to do so and one last to approve the creation of the order.</li>
<li>if have already approved the spending cap, when clicking &#x27;Place Order&#x27; button, a transaction for the create order approval will be prompted.</li>
</ul>
</li>
<li>Once everything is approved, by going to the &#x27;Sell&#x27; tab on the main page, you should be able to see your newly created ERC20 → ERC20 order.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="add-erc20-swap-order-form" src="/assets/images/add-erc20-swap-order-form-a75a1fa7500d6df58ba0dc0b58561ea6.png" width="541" height="617" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Orders are shown with a price per unit even though BTC orders cannot be partially filled. That means that if you offer 1 BTC in exchange for 25,000 USDC, you will see a price per unit of 0.00004 in &#x27;Sell&#x27; table</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filling-order">Filling Order<a href="#filling-order" class="hash-link" aria-label="Direct link to Filling Order" title="Direct link to Filling Order">​</a></h4>
<p>These are the steps to fill ERC20 → ERC20 order:</p>
<ul>
<li>Switch to the account you created for fulfilling orders.</li>
<li>In the &#x27;Buy&#x27; table find the order you created previously.</li>
<li>Click on the &#x27;Fill Order&#x27; button, and enter the amount you wish to fill (total or partial).</li>
<li>You will be prompted to sign the transaction in your wallet.</li>
<li>Once the transaction is successful, the order will disappear because it was completed successfully. You will notice that the involved accounts balances were affected.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="fill-erc20-swap-order-form" src="/assets/images/fill-erc20-swap-order-form-bc6d01ab556127ff2255d41629b28845.png" width="541" height="559" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="erc20--btc-buying-btc">ERC20 → BTC (buying BTC)<a href="#erc20--btc-buying-btc" class="hash-link" aria-label="Direct link to ERC20 → BTC (buying BTC)" title="Direct link to ERC20 → BTC (buying BTC)">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-order-1">Creating Order<a href="#creating-order-1" class="hash-link" aria-label="Direct link to Creating Order" title="Direct link to Creating Order">​</a></h4>
<p>These are the steps to create ERC20 → BTC order:</p>
<ul>
<li>On the top right of the main page, click on the &#x27;Add an order&#x27; button.</li>
<li>A modal with a &#x27;New Order&#x27; title should be visible. Within this modal, you should be on the &#x27;Token&#x27; tab.</li>
<li>This tab contains two inputs: &#x27;Offer&#x27; and &#x27;You will receive&#x27;. Please select the ERC20 tokens that you wish to pay with and BTC as a token to be received, along with the respective amounts.</li>
<li>Lastly, you may also fill the &quot;Bitcoin Address&quot; field with a Testnet Bitcoin Wallet address, in which you desire to receive the BTC.</li>
<li>Once you fill in the previous fields, you should now be able to submit:<!-- -->
<ul>
<li>if you never approved a spending cap for your &quot;Offer&quot; ERC20 token, when clicking the &#x27;Approve &amp; Place Order&#x27; button, a transaction will be prompted for you to do so and one last to approve the creation of the order.</li>
<li>if have already approved the spending cap, when clicking &#x27;Place Order&#x27; button, a transaction for the create order approval will be prompted.</li>
</ul>
</li>
<li>Once everything is approved, by going to the &#x27;Sell&#x27; tab on the main page, you should be able to see your newly created ERC20 → BTC order.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="add-buy-btc-order-form" src="/assets/images/add-buy-btc-order-form-ad0a6148c3ec2ea60b97d5525f7a5400.png" width="541" height="700" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filling-order-1">Filling Order<a href="#filling-order-1" class="hash-link" aria-label="Direct link to Filling Order" title="Direct link to Filling Order">​</a></h4>
<p>These are the steps to fill ERC20 → BTC order:</p>
<ul>
<li>Switch to the account you created for fulfilling orders.</li>
<li>In the &#x27;Buy&#x27; table find the order you created previously.</li>
<li>Click on the &#x27;Fill Order&#x27; button. This will open a modal with the title &#x27;Fill Order&#x27;.</li>
<li>Orders that involve BTC, are not allowed to be partially filled like ERC20 orders. So you should be able to submit by clicking &#x27;Fill Order&#x27;.</li>
<li>You will be prompted to sign the transaction in your wallet.</li>
<li>Once the transaction is successful, you will be able to see the accepted order under &#x27;Accepted BTC Orders&#x27; table.<!-- -->
<ul>
<li>In this table, there is a column with a countdown, which shows you how long the other party has to send you the ordered BTC amount. Once the timer reaches 0, you will be able to cancel the order. This does not happen automatically: the other party will still be able to send the BTC unless you cancel the order. Let&#x27;s now look at how the order is completed.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="fill-buy-btc-order-form" src="/assets/images/fill-buy-btc-order-form-73de2a38c2d01ebeb65c9089e1477e6d.png" width="541" height="567" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Partial fulfillment of orders is only available for swaps involving two ERC20 tokens. Swaps involving BTC can only be fulfilled in full.</p></div></div>
<p>In the next section, we will look at completing this order.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="completing-order">Completing Order<a href="#completing-order" class="hash-link" aria-label="Direct link to Completing Order" title="Direct link to Completing Order">​</a></h4>
<p>These are the steps to complete ERC20 → BTC order:</p>
<ul>
<li>Still in the account used to fill the order, find your order under &quot;Accepted BTC Orders&quot; table.</li>
<li>Once you find the order, click on the &#x27;Complete Order&#x27; button. This will open a modal with the title &#x27;Complete Order&#x27;.</li>
<li>Using a BTC wallet connected to the BTC testnet, send the BTC amount to the address shown. You can scan the QR code to use a mobile wallet.</li>
<li>You will be able to complete the order as soon as one confirmation has been received.</li>
<li>When completing the order, a transaction will be prompted, which is used to submit the proof the BTC was sent successfully.</li>
<li>Once completed, in your current account you should be able to see the ERC20 that you received for your BTC. You should eventually receive the BTC at the address that you specified.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="complete-buy-btc-order" src="/assets/images/complete-buy-btc-order-52744baeb86c49bcc6061d26d64c568f.png" width="541" height="598" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="btc--erc20-selling-btc">BTC → ERC20 (selling BTC)<a href="#btc--erc20-selling-btc" class="hash-link" aria-label="Direct link to BTC → ERC20 (selling BTC)" title="Direct link to BTC → ERC20 (selling BTC)">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-order-2">Creating Order<a href="#creating-order-2" class="hash-link" aria-label="Direct link to Creating Order" title="Direct link to Creating Order">​</a></h4>
<p>These are the steps to create BTC → ERC20 order:</p>
<ul>
<li>On the top right of the main page, click on the &#x27;Add an order&#x27; button.</li>
<li>A modal with a &#x27;New Order&#x27; title should be visible. Within this modal, you should be on the &#x27;Token&#x27; tab.</li>
<li>This tab contains two inputs: &#x27;Offer&#x27; and &#x27;You will receive&#x27;. Please select BTC as &#x27;Offer&#x27; token and the ERC20 that you wish to receive, along with the respective amounts.</li>
<li>Once you fill in the previous fields, you should now be able to submit them by clicking &#x27;Place Order&#x27; button. This will prompt a transaction that will create the order.</li>
<li>Once everything is approved, by going to the &#x27;Sell&#x27; tab in the main page, you should be able to see your newly created BTC → ERC20 order.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="add-sell-btc-order-form" src="/assets/images/add-sell-btc-order-form-138964c92875d0e643696956571a4e8a.png" width="541" height="610" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filling-order-2">Filling Order<a href="#filling-order-2" class="hash-link" aria-label="Direct link to Filling Order" title="Direct link to Filling Order">​</a></h4>
<p>These are the steps to fill BTC → ERC20 order:</p>
<ul>
<li>Switch to the account you created for fulfilling orders.</li>
<li>In the &#x27;Buy&#x27; table find the order you created previously.</li>
<li>Click on the &#x27;Fill Order&#x27; button. This will open a modal with the title &#x27;Fill Order&#x27;.</li>
<li>Orders that involve BTC, are not allowed to be partially filled like ERC20 orders, so you only need to fill &quot;Bitcoin Address&quot; field with a Testnet Bitcoin Wallet address, in which you desire to receive the BTC.</li>
<li>Once you fill in the previous field, you should now be able to submit:<!-- -->
<ul>
<li>if you never approved a spending cap for your &quot;Pay with&quot; ERC20 token, when clicking the &#x27;Approve &amp; Fill Order&#x27; button, a transaction will be prompted for you to do so and one last to approve the creation of the order.</li>
<li>if have already approved the spending cap, when clicking &#x27;Fill Order&#x27; button, a transaction for the fill order approval will be prompted.</li>
</ul>
</li>
<li>Once the transaction is successful, you will be able to see the accepted order under &quot;Accepted BTC Orders&quot; table.<!-- -->
<ul>
<li>In this table, there is a column with a countdown, which shows you how long the other party has to send you the ordered BTC amount. Once the timer reaches 0, you will be able to cancel the order. This does not happen automatically: the other party will still be able to send the BTC unless you cancel the order. Let&#x27;s now look at how the order is completed.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="fill-sell-btc-order-form" src="/assets/images/fill-sell-btc-order-form-c11ee7580c5b3567fec5f4fe9e6965e6.png" width="541" height="648" class="img_ev3q"></p>
<p>In the next section, we will look at completing this order.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="completing-order-1">Completing Order<a href="#completing-order-1" class="hash-link" aria-label="Direct link to Completing Order" title="Direct link to Completing Order">​</a></h4>
<p>These are the steps to complete ERC20 → BTC order:</p>
<ul>
<li>Switch back to the account in which you created the order.</li>
<li>Go to the &#x27;Sell&#x27; tab on the main page and find your order under &quot;Accepted BTC Orders&quot; table.</li>
<li>Once you find the order, click on the &#x27;Complete Order&#x27; button. This will open a modal with the title &#x27;Complete Order&#x27;.</li>
<li>Using a BTC wallet connected to the BTC testnet, send the BTC amount to the address shown. You can scan the QR code to use a mobile wallet.</li>
<li>You will be able to complete the order as soon as one confirmation has been received.</li>
<li>When completing the order, a transaction will be prompted, which is used to submit the proof the BTC was sent successfully.</li>
<li>Once completed, in your current account you should be able to see the ERC20 that you received for your BTC. You should eventually receive the BTC at the address that you specified.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="complete-sell-btc-order" src="/assets/images/complete-sell-btc-order-437ebb99402239d70fb93a83eb52fb04.png" width="541" height="602" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ordinal-order">Ordinal Order<a href="#ordinal-order" class="hash-link" aria-label="Direct link to Ordinal Order" title="Direct link to Ordinal Order">​</a></h2>
<p>The peer-to-peer swap of ordinals is divided into three steps:</p>
<ul>
<li>Creating order</li>
<li>Filling order</li>
<li>Completing order (excluded on ERC20 → ERC20 order)</li>
</ul>
<p>Let&#x27;s now go through each step.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>At the moment, ordinals can only be sold for ERC20 tokens.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Make sure you use a BTC Wallet that is able to send and receive ordinals.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><a href="#connecting-btc-wallet">Connecting a BTC wallet</a> will drastically improve your user experience. We will be looking at the different flows for this kind of order.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ordinal--erc20-selling-ordinal">Ordinal → ERC20 (selling Ordinal)<a href="#ordinal--erc20-selling-ordinal" class="hash-link" aria-label="Direct link to Ordinal → ERC20 (selling Ordinal)" title="Direct link to Ordinal → ERC20 (selling Ordinal)">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-order-3">Creating Order<a href="#creating-order-3" class="hash-link" aria-label="Direct link to Creating Order" title="Direct link to Creating Order">​</a></h4>
<p>These are the steps to create Ordinal → ERC20 order:</p>
<ul>
<li>On the top right of the main page, click on the &#x27;Add an order&#x27; button.</li>
<li>A modal with a &#x27;New Order&#x27; title should be visible. Within this modal, you should be on the &#x27;Ordinal&#x27; tab.</li>
<li>This tab contains two paths:<!-- -->
<ul>
<li>if you have a BTC Wallet connected, you should be able to see an &#x27;Inscription ID&#x27; Select. If you click it, a modal you will be shown with your connected wallet inscriptions listed.</li>
<li>if you do not have a BTC Wallet connected, you should be able to see an &quot;Inscription ID&quot; field that should be filled with an inscription ID.</li>
</ul>
</li>
<li>Once the inscription field is filled, if valid, your inscription will be displayed. Lastly, you may also fill in the amount you desire for your ordinal.</li>
<li>Once you fill in the previous fields, you should now be able to submit them by clicking &#x27;Place Order&#x27; button. This will prompt a transaction that will create the order.</li>
<li>Once everything is approved, by going to the &#x27;Sell&#x27; tab on the main page, you should be able to see your newly created Ordinal → ERC20 order.</li>
</ul>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Connected BTC Wallet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Disconnected BTC Wallet</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><img alt="sell ordinal form when wallet is connected" src="/assets/images/add-sell-ordinal-connected-order-form-db187955bf9259f5003e4c46ddb51cf9.png"></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><img alt="sell ordinal form when wallet is disconnected" src="/assets/images/add-sell-ordinal-disconnected-order-form-8f56ffbdf5419ee2c9038bace48fdf8f.png"></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filling-order-3">Filling Order<a href="#filling-order-3" class="hash-link" aria-label="Direct link to Filling Order" title="Direct link to Filling Order">​</a></h4>
<p>These are the steps to fill Ordinal → ERC20 order:</p>
<ul>
<li>Switch to the account you created for fulfilling orders.</li>
<li>In the &#x27;Buy&#x27; table find the order you created previously.</li>
<li>Click on the &#x27;Fill Order&#x27; button. This will open a modal with the title &#x27;Fill Order&#x27;.<!-- -->
<ul>
<li>if you do not have a BTC wallet connected, you will need to fill &quot;Bitcoin Address&quot; field with a Testnet Bitcoin Wallet address, in which you desire to receive the BTC.</li>
</ul>
</li>
<li>You should now be able to submit:<!-- -->
<ul>
<li>if you never approved a spending cap for your &quot;Pay with&quot; ERC20 token, when clicking the &#x27;Approve &amp; Fill Order&#x27; button, a transaction will be prompted for you to do so and one last to approve the creation of the order.</li>
<li>if have already approved the spending cap, when clicking &#x27;Fill Order&#x27; button, a transaction for the fill order approval will be prompted.</li>
</ul>
</li>
<li>Once the transaction is successful, you will be able to see the accepted order under &quot;Accepted Ordinals Orders&quot; table.<!-- -->
<ul>
<li>In this table, there is a column with a countdown, which shows you how long the other party has to send the ordinal. Once the timer reaches 0, you will be able to cancel the order. This does not happen automatically: the other party will still be able to send the ordinal unless you cancel the order. Let&#x27;s now look at how the order is completed.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="fill-ordinal-order-form" src="/assets/images/fill-ordinal-order-form-4f0dded0fb0d5e6990892cfe7fd9169d.png" width="541" height="690" class="img_ev3q"></p>
<p>In the next section, we will look at completing this order.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="completing-order-2">Completing Order<a href="#completing-order-2" class="hash-link" aria-label="Direct link to Completing Order" title="Direct link to Completing Order">​</a></h4>
<p>These are the steps to complete Ordinal → BTC order:</p>
<ul>
<li>Switch back to the account in which you created the order.</li>
<li>Go to the &#x27;Sell&#x27; tab on the main page and find your order under &quot;Accepted Ordinal Orders&quot; table.</li>
<li>Once you find the order, click on the &#x27;Complete Order&#x27; button. This will open a modal with the title &#x27;Complete Order&#x27;.</li>
<li>Using a BTC wallet connected to the BTC testnet, send the ordinal to the address shown. You can scan the QR code to use a mobile wallet.</li>
<li>You will be able to complete the order as soon as one confirmation has been received.</li>
<li>When completing the order, a transaction will be prompted, which is used to submit the proof the ordinal was sent successfully.</li>
<li>Once completed, in your current account you should be able to see the ERC20 that you received for your ordinal. You should eventually receive the ordinal in the address that you specified.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="complete-ordinal-order" src="/assets/images/complete-ordinal-order-d63bb600d2c341240dd51770c3c314ae.png" width="541" height="834" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="demo-code">Demo Code<a href="#demo-code" class="hash-link" aria-label="Direct link to Demo Code" title="Direct link to Demo Code">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The demo code is just for demonstration purposes. It is not production-ready code.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ui">UI<a href="#ui" class="hash-link" aria-label="Direct link to UI" title="Direct link to UI">​</a></h3>
<p>You can find the code for the UI here <a href="https://github.com/bob-collective/demo-p2p-swap" target="_blank" rel="noopener noreferrer">https://github.com/bob-collective/demo-p2p-swap</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contracts">Contracts<a href="#contracts" class="hash-link" aria-label="Direct link to Contracts" title="Direct link to Contracts">​</a></h3>
<p>The contracts for the demo can be found in <a href="https://github.com/bob-collective/bob/tree/master/src/swap" target="_blank" rel="noopener noreferrer">https://github.com/bob-collective/bob/tree/master/src/swap</a>:</p>
<ul>
<li><code>Marketplace.sol</code>: this contract is used to create and fill orders for ERC20 tokens.</li>
<li><code>Btc_Marketplace.sol</code>: this contract is used to create and fill BTC orders.</li>
<li><code>Ord_Marketplace.sol</code>: this contract is used to create and fill Ordinal orders.</li>
</ul>
<p>The best place to understand how the contracts work is to look at the tests: <a href="https://github.com/bob-collective/bob/tree/master/test/swap" target="_blank" rel="noopener noreferrer">https://github.com/bob-collective/bob/tree/master/test/swap</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="buying-btc">Buying BTC<a href="#buying-btc" class="hash-link" aria-label="Direct link to Buying BTC" title="Direct link to Buying BTC">​</a></h4>
<ul>
<li>Alice calls <code>placeBtcBuyOrder</code> and specifies amounts and a Bitcoin address.</li>
<li>Bob calls <code>acceptBtcBuyOrder</code></li>
<li>Bob makes the Bitcoin transfer</li>
<li>Bob calls <code>proofBtcBuyOrder</code>, or Alice can call <code>cancelAcceptedBtcBuyOrder</code> after a timeout.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="selling-btc">Selling BTC<a href="#selling-btc" class="hash-link" aria-label="Direct link to Selling BTC" title="Direct link to Selling BTC">​</a></h4>
<ul>
<li>Alice calls <code>placeBtcSellOrder</code> specifying the amounts</li>
<li>Bob calls <code>acceptBtcSellOrder</code> and specifies a Bitcoin address</li>
<li>Alice calls <code>proofBtcSellOrder</code>, or Bob can call <code>cancelAcceptedBtcSellOrder</code></li>
</ul>
<p>For both buying and selling orders, if the order has not yet been accepted, Alice can withdraw the request using <code>withdrawBtcSellOrder</code>/<code>withdrawBtcBuyOrder</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-a-local-environment">Set up a Local Environment<a href="#set-up-a-local-environment" class="hash-link" aria-label="Direct link to Set up a Local Environment" title="Direct link to Set up a Local Environment">​</a></h3>
<ol>
<li>Clone <a href="https://github.com/bob-collective/bob" target="_blank" rel="noopener noreferrer">https://github.com/bob-collective/bob</a></li>
<li>Install <a href="https://www.docker.com" target="_blank" rel="noopener noreferrer">Docker</a></li>
<li>Run <code>docker-compose up</code></li>
<li>Verify that Regtest and Electrum are running by checking for the latest blocks at <a href="http://localhost:3002/blocks" target="_blank" rel="noopener noreferrer">http://localhost:3002/blocks</a></li>
<li>Add BOB Sepolia to your EVM wallet using the information on our <a href="/docs/build/getting-started/networks">Connect to BOB</a> page.</li>
</ol>
<p>An example application can be found at <a href="https://github.com/bob-collective/bob-ui-poc" target="_blank" rel="noopener noreferrer">https://github.com/bob-collective/</a>. This has been built using <a href="https://viem.sh/" target="_blank" rel="noopener noreferrer">Viem</a>, <a href="https://wagmi.sh/" target="_blank" rel="noopener noreferrer">Wagmi</a>, React and Typescript, but you can interact with the smart contract using your preferred tools and frameworks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="funding-your-wallet-with-erc20-tokens">Funding Your Wallet with ERC20 Tokens<a href="#funding-your-wallet-with-erc20-tokens" class="hash-link" aria-label="Direct link to Funding Your Wallet with ERC20 Tokens" title="Direct link to Funding Your Wallet with ERC20 Tokens">​</a></h3>
<p>This can be done using the faucet buttons as described in the <a href="#creating-and-funding-test-accounts">Creating and Funding Test Accounts</a> above.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="getting-the-smart-contract-abis-in-the-ui">Getting the Smart Contract ABIs in the UI<a href="#getting-the-smart-contract-abis-in-the-ui" class="hash-link" aria-label="Direct link to Getting the Smart Contract ABIs in the UI" title="Direct link to Getting the Smart Contract ABIs in the UI">​</a></h4>
<p>This is done using a React hook which extends Viem&#x27;s <code>getContract</code> method. This allows contract member types to be inferred, rather than respecified in the application.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> getContract </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;viem&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> usePublicClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> useWalletClient </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;wagmi&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> contracts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ContractType </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;../constants&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> useMemo </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Wrapper around ethers Contract to automatically get contract types</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// with read and write objects automatically constructed from provider and signer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">useContract</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">contractType</span><span class="token operator">:</span><span class="token plain"> ContractType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> publicClient </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">usePublicClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> data</span><span class="token operator">:</span><span class="token plain"> walletClient </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useWalletClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useMemo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> abi </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> contracts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">contractType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getContract</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      abi</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      publicClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      walletClient</span><span class="token operator">:</span><span class="token plain"> walletClient </span><span class="token operator">??</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">undefined</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">walletClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> publicClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> contractType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> useContract </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This can then be called in the application:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// contracts/config.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> contracts </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">ContractType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">BTC_MARKETPLACE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    address</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;0x3336ff156B91B35E520741a660B9717C50c84c86&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    abi</span><span class="token operator">:</span><span class="token plain"> BtcMarketplaceAbi</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// App.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> read</span><span class="token operator">:</span><span class="token plain"> readBtcMarketplace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> write</span><span class="token operator">:</span><span class="token plain"> writeBtcMarketplace </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useContract</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ContractType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">BTC_MARKETPLACE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/bob-collective/bob/tree/master/docs/docs/build/examples/btc-swap/index.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/build/how-to/full-node"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Run a Full Node</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/build/examples/brc20-octopus/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inscribing Ordinals with the UniSat Wallet</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#connecting-two-wallets" class="table-of-contents__link toc-highlight">Connecting Two Wallets</a><ul><li><a href="#connecting-evm-wallet" class="table-of-contents__link toc-highlight">Connecting EVM Wallet</a></li><li><a href="#connecting-btc-wallet" class="table-of-contents__link toc-highlight">Connecting BTC Wallet</a></li></ul></li><li><a href="#creating-and-funding-test-accounts" class="table-of-contents__link toc-highlight">Creating and Funding Test Accounts</a><ul><li><a href="#erc20-tokens" class="table-of-contents__link toc-highlight">ERC20 Tokens</a></li><li><a href="#testnet-ordinals" class="table-of-contents__link toc-highlight">Testnet Ordinals</a></li></ul></li><li><a href="#token-order" class="table-of-contents__link toc-highlight">Token Order</a><ul><li><a href="#erc20--erc20-swaping-erc20" class="table-of-contents__link toc-highlight">ERC20 → ERC20 (swaping ERC20)</a></li><li><a href="#erc20--btc-buying-btc" class="table-of-contents__link toc-highlight">ERC20 → BTC (buying BTC)</a></li><li><a href="#btc--erc20-selling-btc" class="table-of-contents__link toc-highlight">BTC → ERC20 (selling BTC)</a></li></ul></li><li><a href="#ordinal-order" class="table-of-contents__link toc-highlight">Ordinal Order</a><ul><li><a href="#ordinal--erc20-selling-ordinal" class="table-of-contents__link toc-highlight">Ordinal → ERC20 (selling Ordinal)</a></li></ul></li><li><a href="#demo-code" class="table-of-contents__link toc-highlight">Demo Code</a><ul><li><a href="#ui" class="table-of-contents__link toc-highlight">UI</a></li><li><a href="#contracts" class="table-of-contents__link toc-highlight">Contracts</a></li><li><a href="#set-up-a-local-environment" class="table-of-contents__link toc-highlight">Set up a Local Environment</a></li><li><a href="#funding-your-wallet-with-erc20-tokens" class="table-of-contents__link toc-highlight">Funding Your Wallet with ERC20 Tokens</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/gobob" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/build_on_bob" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/+CyIcLW2nfaFlNDc1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Builders</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/bob-collective/bob" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gobob.xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">BOB Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://build-on-bitcoin.notion.site/BOB-Press-Kit-1be66c38713d480eab01000bdd164206" target="_blank" rel="noopener noreferrer" class="footer__link-item">Press Kit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://drive.google.com/drive/u/0/folders/1c30QDkyWgaV8xSEpCXFWJj1WQyUjSm7N" target="_blank" rel="noopener noreferrer" class="footer__link-item">Brand Kit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://build-on-bitcoin.notion.site/BOB-Summary-23fad2d446ff467d8551b924eb3338fc" target="_blank" rel="noopener noreferrer" class="footer__link-item">One Pager<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with ❤️ by the BOB Collective. 2024.</div></div></div></footer></div>
</body>
</html>